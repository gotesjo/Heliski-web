YUI.add("hermes-template-dynamic-page-head",(function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta name="title" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"title")||(null!=l?r(l,"title"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:1,column:41},end:{line:1,column:50}}}):a)+'" data-dynamic="true">'},3:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta name="description" content="'+n.escapeExpression((a(e,"stripTags")||l&&a(l,"stripTags")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"description"):l,{name:"stripTags",hash:{},data:o,loc:{start:{line:2,column:53},end:{line:2,column:78}}}))+'" data-dynamic="true">'},5:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"oembedURL"):l,{name:"if",hash:{},fn:n.program(6,o,0),inverse:n.program(8,o,0),data:o,loc:{start:{line:5,column:0},end:{line:11,column:7}}}))?a:""},6:function(n,l,e,t,o){var a,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,u="function",c=n.escapeExpression,p=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<link rel="alternate" type="application/json+oembed" href="https://www.flickr.com/services/oembed/?format=json&url='+c(typeof(a=null!=(a=p(e,"oembedURL")||(null!=l?p(l,"oembedURL"):l))?a:i)===u?a.call(r,{name:"oembedURL",hash:{},data:o,loc:{start:{line:6,column:115},end:{line:6,column:128}}}):a)+'" title="'+c(typeof(a=null!=(a=p(e,"title")||(null!=l?p(l,"title"):l))?a:i)===u?a.call(r,{name:"title",hash:{},data:o,loc:{start:{line:6,column:137},end:{line:6,column:146}}}):a)+'">\n<link rel="alternate" type="application/xml+oembed" href="https://www.flickr.com/services/oembed/?format=xml&url='+c(typeof(a=null!=(a=p(e,"oembedURL")||(null!=l?p(l,"oembedURL"):l))?a:i)===u?a.call(r,{name:"oembedURL",hash:{},data:o,loc:{start:{line:7,column:113},end:{line:7,column:126}}}):a)+'" title="'+c(typeof(a=null!=(a=p(e,"title")||(null!=l?p(l,"title"):l))?a:i)===u?a.call(r,{name:"title",hash:{},data:o,loc:{start:{line:7,column:135},end:{line:7,column:144}}}):a)+'">\n'},8:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"fullURL"):l,{name:"if",hash:{},fn:n.program(9,o,0),inverse:n.noop,data:o,loc:{start:{line:8,column:0},end:{line:11,column:0}}}))?a:""},9:function(n,l,e,t,o){var a,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,u="function",c=n.escapeExpression,p=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<link rel="alternate" type="application/json+oembed" href="https://www.flickr.com/services/oembed/?format=json&url='+c(typeof(a=null!=(a=p(e,"fullURL")||(null!=l?p(l,"fullURL"):l))?a:i)===u?a.call(r,{name:"fullURL",hash:{},data:o,loc:{start:{line:9,column:115},end:{line:9,column:126}}}):a)+'" title="'+c(typeof(a=null!=(a=p(e,"title")||(null!=l?p(l,"title"):l))?a:i)===u?a.call(r,{name:"title",hash:{},data:o,loc:{start:{line:9,column:135},end:{line:9,column:144}}}):a)+'">\n<link rel="alternate" type="application/xml+oembed" href="https://www.flickr.com/services/oembed/?format=xml&url='+c(typeof(a=null!=(a=p(e,"fullURL")||(null!=l?p(l,"fullURL"):l))?a:i)===u?a.call(r,{name:"fullURL",hash:{},data:o,loc:{start:{line:10,column:113},end:{line:10,column:124}}}):a)+'" title="'+c(typeof(a=null!=(a=p(e,"title")||(null!=l?p(l,"title"):l))?a:i)===u?a.call(r,{name:"title",hash:{},data:o,loc:{start:{line:10,column:133},end:{line:10,column:142}}}):a)+'">\n'},11:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:title" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"title")||(null!=l?r(l,"title"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:14,column:48},end:{line:14,column:57}}}):a)+'" data-dynamic="true">'},13:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:description" content="'+n.escapeExpression((a(e,"stripTags")||l&&a(l,"stripTags")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"description"):l,{name:"stripTags",hash:{},data:o,loc:{start:{line:15,column:60},end:{line:15,column:85}}}))+'" data-dynamic="true">'},15:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:type" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"ogType")||(null!=l?r(l,"ogType"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"ogType",hash:{},data:o,loc:{start:{line:16,column:48},end:{line:16,column:58}}}):a)+'" data-dynamic="true">'},17:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:url" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"fullURL")||(null!=l?r(l,"fullURL"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"fullURL",hash:{},data:o,loc:{start:{line:17,column:48},end:{line:17,column:59}}}):a)+'" data-dynamic="true">'},19:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="article:author" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"ownerURL")||(null!=l?r(l,"ownerURL"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"ownerURL",hash:{},data:o,loc:{start:{line:18,column:57},end:{line:18,column:69}}}):a)+'" data-dynamic="true">'},21:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(e,"unless").call(null!=l?l:n.nullContext||{},null!=l?r(l,"extraOpenGraphImages"):l,{name:"unless",hash:{},fn:n.program(22,o,0),inverse:n.noop,data:o,loc:{start:{line:20,column:0},end:{line:24,column:11}}}))?a:""},22:function(n,l,e,t,o){var a,r,i=null!=l?l:n.nullContext||{},u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:image" content="'+n.escapeExpression("function"==typeof(r=null!=(r=u(e,"openGraphImageURL")||(null!=l?u(l,"openGraphImageURL"):l))?r:n.hooks.helperMissing)?r.call(i,{name:"openGraphImageURL",hash:{},data:o,loc:{start:{line:21,column:35},end:{line:21,column:56}}}):r)+'" data-dynamic="true">\n'+(null!=(a=u(e,"if").call(i,null!=l?u(l,"openGraphImageWidth"):l,{name:"if",hash:{},fn:n.program(23,o,0),inverse:n.noop,data:o,loc:{start:{line:22,column:0},end:{line:22,column:120}}}))?a:"")+"\n"+(null!=(a=u(e,"if").call(i,null!=l?u(l,"openGraphImageHeight"):l,{name:"if",hash:{},fn:n.program(25,o,0),inverse:n.noop,data:o,loc:{start:{line:23,column:0},end:{line:23,column:123}}}))?a:"")+"\n"},23:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:image:width" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"openGraphImageWidth")||(null!=l?r(l,"openGraphImageWidth"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"openGraphImageWidth",hash:{},data:o,loc:{start:{line:22,column:68},end:{line:22,column:91}}}):a)+'" data-dynamic="true">'},25:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:image:height" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"openGraphImageHeight")||(null!=l?r(l,"openGraphImageHeight"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"openGraphImageHeight",hash:{},data:o,loc:{start:{line:23,column:70},end:{line:23,column:94}}}):a)+'" data-dynamic="true">'},27:function(n,l,e,t,o){var a,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,u="function",c=n.escapeExpression,p=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="og:image" content="'+c(typeof(a=null!=(a=p(e,"url")||(null!=l?p(l,"url"):l))?a:i)===u?a.call(r,{name:"url",hash:{},data:o,loc:{start:{line:27,column:35},end:{line:27,column:42}}}):a)+'" data-dynamic="true">\n<meta property="og:image:width" content="'+c(typeof(a=null!=(a=p(e,"width")||(null!=l?p(l,"width"):l))?a:i)===u?a.call(r,{name:"width",hash:{},data:o,loc:{start:{line:28,column:41},end:{line:28,column:50}}}):a)+'" data-dynamic="true">\n<meta property="og:image:height" content="'+c(typeof(a=null!=(a=p(e,"height")||(null!=l?p(l,"height"):l))?a:i)===u?a.call(r,{name:"height",hash:{},data:o,loc:{start:{line:29,column:42},end:{line:29,column:52}}}):a)+'" data-dynamic="true">\n'},29:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="al:ios:url" content="flickr://flickr.com'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"url")||(null!=l?r(l,"url"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"url",hash:{},data:o,loc:{start:{line:32,column:67},end:{line:32,column:74}}}):a)+'" data-dynamic="true">'},31:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:card" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"twitterCardType")||(null!=l?r(l,"twitterCardType"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"twitterCardType",hash:{},data:o,loc:{start:{line:34,column:62},end:{line:34,column:81}}}):a)+'" data-dynamic="true">'},33:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:player" content="https://embedr.flickr.com'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"embedUrl")||(null!=l?r(l,"embedUrl"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"embedUrl",hash:{},data:o,loc:{start:{line:36,column:66},end:{line:36,column:78}}}):a)+'" data-dynamic="true">\n<meta property="twitter:player:width" content="640" data-dynamic="true">\n<meta property="twitter:player:height" content="480" data-dynamic="true">\n'},35:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:title" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"title")||(null!=l?r(l,"title"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:40,column:53},end:{line:40,column:62}}}):a)+'" data-dynamic="true">'},37:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:image" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"openGraphImageURL")||(null!=l?r(l,"openGraphImageURL"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"openGraphImageURL",hash:{},data:o,loc:{start:{line:41,column:65},end:{line:41,column:86}}}):a)+'" data-dynamic="true">'},39:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:description" content="'+n.escapeExpression((a(e,"stripTags")||l&&a(l,"stripTags")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"description"):l,{name:"stripTags",hash:{},data:o,loc:{start:{line:42,column:65},end:{line:42,column:90}}}))+'" data-dynamic="true">'},41:function(n,l,e,t,o){var a,r,i=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,c="function",p=n.escapeExpression,s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:app:url:iphone" content="flickr://flickr.com'+p(typeof(r=null!=(r=s(e,"url")||(null!=l?s(l,"url"):l))?r:u)===c?r.call(i,{name:"url",hash:{},data:o,loc:{start:{line:44,column:68},end:{line:44,column:75}}}):r)+'" data-dynamic="true">\n<meta property="twitter:app:url:ipad" content="flickr://flickr.com'+p(typeof(r=null!=(r=s(e,"url")||(null!=l?s(l,"url"):l))?r:u)===c?r.call(i,{name:"url",hash:{},data:o,loc:{start:{line:45,column:66},end:{line:45,column:73}}}):r)+'" data-dynamic="true">\n'+(null!=(a=s(e,"if").call(i,null!=l?s(l,"fullURL"):l,{name:"if",hash:{},fn:n.program(42,o,0),inverse:n.noop,data:o,loc:{start:{line:46,column:0},end:{line:46,column:108}}}))?a:"")+"\n"},42:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<meta property="twitter:app:url:googleplay" content="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"fullURL")||(null!=l?r(l,"fullURL"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"fullURL",hash:{},data:o,loc:{start:{line:46,column:68},end:{line:46,column:79}}}):a)+'" data-dynamic="true">'},44:function(n,l,e,t,o){var a,r,i=null!=l?l:n.nullContext||{},u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<link rel="alternate" type="application/atom+xml" '+(null!=(a=u(e,"if").call(i,null!=l?u(l,"title"):l,{name:"if",hash:{},fn:n.program(45,o,0),inverse:n.noop,data:o,loc:{start:{line:49,column:65},end:{line:49,column:102}}}))?a:"")+' href="'+n.escapeExpression("function"==typeof(r=null!=(r=u(e,"url")||(null!=l?u(l,"url"):l))?r:n.hooks.helperMissing)?r.call(i,{name:"url",hash:{},data:o,loc:{start:{line:49,column:109},end:{line:49,column:116}}}):r)+'" data-dynamic="true">'},45:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'title="'+n.escapeExpression("function"==typeof(a=null!=(a=r(e,"title")||(null!=l?r(l,"title"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:49,column:85},end:{line:49,column:94}}}):a)+'"'},compiler:[8,">= 4.3.0"],main:function(n,l,e,t,o){var a,r=null!=l?l:n.nullContext||{},i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(a=i(e,"if").call(r,null!=l?i(l,"title"):l,{name:"if",hash:{},fn:n.program(1,o,0),inverse:n.noop,data:o,loc:{start:{line:1,column:0},end:{line:1,column:79}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"description"):l,{name:"if",hash:{},fn:n.program(3,o,0),inverse:n.noop,data:o,loc:{start:{line:2,column:0},end:{line:2,column:107}}}))?a:"")+"\n\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"title"):l,{name:"if",hash:{},fn:n.program(5,o,0),inverse:n.noop,data:o,loc:{start:{line:4,column:0},end:{line:12,column:7}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"title"):l,{name:"if",hash:{},fn:n.program(11,o,0),inverse:n.noop,data:o,loc:{start:{line:14,column:0},end:{line:14,column:86}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"description"):l,{name:"if",hash:{},fn:n.program(13,o,0),inverse:n.noop,data:o,loc:{start:{line:15,column:0},end:{line:15,column:114}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"ogType"):l,{name:"if",hash:{},fn:n.program(15,o,0),inverse:n.noop,data:o,loc:{start:{line:16,column:0},end:{line:16,column:87}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"fullURL"):l,{name:"if",hash:{},fn:n.program(17,o,0),inverse:n.noop,data:o,loc:{start:{line:17,column:0},end:{line:17,column:88}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"ownerURL"):l,{name:"if",hash:{},fn:n.program(19,o,0),inverse:n.noop,data:o,loc:{start:{line:18,column:0},end:{line:18,column:98}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"openGraphImageURL"):l,{name:"if",hash:{},fn:n.program(21,o,0),inverse:n.noop,data:o,loc:{start:{line:19,column:0},end:{line:25,column:7}}}))?a:"")+(null!=(a=i(e,"each").call(r,null!=l?i(l,"extraOpenGraphImages"):l,{name:"each",hash:{},fn:n.program(27,o,0),inverse:n.noop,data:o,loc:{start:{line:26,column:0},end:{line:30,column:9}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"url"):l,{name:"if",hash:{},fn:n.program(29,o,0),inverse:n.noop,data:o,loc:{start:{line:32,column:0},end:{line:32,column:103}}}))?a:"")+"\n\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"twitterCardType"):l,{name:"if",hash:{},fn:n.program(31,o,0),inverse:n.noop,data:o,loc:{start:{line:34,column:0},end:{line:34,column:110}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"embedUrl"):l,{name:"if",hash:{},fn:n.program(33,o,0),inverse:n.noop,data:o,loc:{start:{line:35,column:0},end:{line:39,column:7}}}))?a:"")+(null!=(a=i(e,"if").call(r,null!=l?i(l,"title"):l,{name:"if",hash:{},fn:n.program(35,o,0),inverse:n.noop,data:o,loc:{start:{line:40,column:0},end:{line:40,column:91}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"openGraphImageURL"):l,{name:"if",hash:{},fn:n.program(37,o,0),inverse:n.noop,data:o,loc:{start:{line:41,column:0},end:{line:41,column:115}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"description"):l,{name:"if",hash:{},fn:n.program(39,o,0),inverse:n.noop,data:o,loc:{start:{line:42,column:0},end:{line:42,column:119}}}))?a:"")+"\n"+(null!=(a=i(e,"if").call(r,null!=l?i(l,"url"):l,{name:"if",hash:{},fn:n.program(41,o,0),inverse:n.noop,data:o,loc:{start:{line:43,column:0},end:{line:47,column:7}}}))?a:"")+"\n"+(null!=(a=i(e,"each").call(r,null!=l?i(l,"feeds"):l,{name:"each",hash:{},fn:n.program(44,o,0),inverse:n.noop,data:o,loc:{start:{line:49,column:0},end:{line:49,column:147}}}))?a:"")+"\n"},useData:!0}),t={};n.Array.each([],(function(l){var e=n.Template.get("hermes/"+l);e&&(t[l]=e)})),n.Template.register("hermes/dynamic-page-head",(function(l,o){return(o=o||{}).partials=o.partials?n.merge(t,o.partials):t,e(l,o)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-head-meta",(function(e,n){var a=e.Template.Handlebars.revive({1:function(e,n,a,t,l){return'name="'},3:function(e,n,a,t,l){return'property="'},5:function(e,n,a,t,l){return'description="'+e.escapeExpression(e.lambda(n,n))+'"'},compiler:[8,">= 4.3.0"],main:function(e,n,a,t,l){var r,o,i,m=null!=n?n:e.nullContext||{},s=e.hooks.helperMissing,c="function",u=e.escapeExpression,p=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]},d="<meta "+(null!=(r=p(a,"if").call(m,null!=n?p(n,"isName"):n,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l,loc:{start:{line:1,column:6},end:{line:1,column:51}}}))?r:"")+u(typeof(o=null!=(o=p(a,"metaName")||(null!=n?p(n,"metaName"):n))?o:s)===c?o.call(m,{name:"metaName",hash:{},data:l,loc:{start:{line:1,column:51},end:{line:1,column:63}}}):o)+'" content="'+u((p(a,"renderMetaInfo")||n&&p(n,"renderMetaInfo")||s).call(m,null!=n?p(n,"metaValue"):n,{name:"renderMetaInfo",hash:{},data:l,loc:{start:{line:1,column:74},end:{line:1,column:102}}}))+'" ';return o=null!=(o=p(a,"metaDescription")||(null!=n?p(n,"metaDescription"):n))?o:s,i={name:"metaDescription",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:104},end:{line:1,column:163}}},r=typeof o===c?o.call(m,i):o,p(a,"metaDescription")||(r=e.hooks.blockHelperMissing.call(n,r,i)),null!=r&&(d+=r),d+' data-dynamic="true">\n'},useData:!0}),t={};e.Array.each([],(function(n){var a=e.Template.get("hermes/"+n);a&&(t[n]=a)})),e.Template.register("hermes/head-meta",(function(n,l){return(l=l||{}).partials=l.partials?e.merge(t,l.partials):t,a(n,l)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-photo-list-getty-item",(function(e,t){var a=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,t,a,l,r){var n=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="photo-list-static-item-container">\n\t'+e.escapeExpression((n(a,"outlet")||t&&n(t,"outlet")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?n(t,"getty-widget-view"):t,{name:"outlet",hash:{},data:r,loc:{start:{line:2,column:1},end:{line:2,column:29}}}))+"\n</div>"},useData:!0}),l={};e.Array.each([],(function(t){var a=e.Template.get("hermes/"+t);a&&(l[t]=a)})),e.Template.register("hermes/photo-list-getty-item",(function(t,r){return(r=r||{}).partials=r.partials?e.merge(l,r.partials):l,a(t,r)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-getty-widget",(function(l,n){var t=l.Template.Handlebars.revive({1:function(l,n,t,e,a,o,i){var r,u=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return null!=(r=u(t,"if").call(null!=n?n:l.nullContext||{},null!=n?u(n,"apiFailed"):n,{name:"if",hash:{},fn:l.noop,inverse:l.program(2,a,0,o,i),data:a,loc:{start:{line:2,column:0},end:{line:36,column:7}}}))?r:""},2:function(l,n,t,e,a,o,i){var r,u,c=null!=n?n:l.nullContext||{},s=l.hooks.helperMissing,p="function",m=l.escapeExpression,d=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<div class="main getty-'+m(typeof(u=null!=(u=d(t,"typeClass")||(null!=n?d(n,"typeClass"):n))?u:s)===p?u.call(c,{name:"typeClass",hash:{},data:a,loc:{start:{line:3,column:23},end:{line:3,column:36}}}):u)+'-widget">\n\t<div class="sponsor-title-container">\n\t\t<p class="sponsor-title">'+m((d(t,"intlHTMLMessage")||n&&d(n,"intlHTMLMessage")||s).call(c,{name:"intlHTMLMessage",hash:{iStockLogo:null!=n?d(n,"iStockLogo"):n,assetRoot:null!=n?d(n,"assetRoot"):n,intlName:"common.SPONSORED_BY_ISTOCK"},data:a,loc:{start:{line:5,column:27},end:{line:5,column:126}}}))+'</p>\n\t\t<p class="sponsor-discount-code"><a href="'+m(typeof(u=null!=(u=d(t,"gettyPromoLink")||(null!=n?d(n,"gettyPromoLink"):n))?u:s)===p?u.call(c,{name:"gettyPromoLink",hash:{},data:a,loc:{start:{line:6,column:44},end:{line:6,column:62}}}):u)+'" target="_blank">'+m((d(t,"intlHTMLMessage")||n&&d(n,"intlHTMLMessage")||s).call(c,{name:"intlHTMLMessage",hash:{intlName:"common.GETTY_FLICKR_10_FREE"},data:a,loc:{start:{line:6,column:80},end:{line:6,column:138}}}))+'</a></p>\n\t</div>\n\t<div class="getty-main-container" style="height: '+m(l.lambda(null!=(r=null!=n?d(n,"layout"):n)?d(r,"containerHeight"):r,n))+'px;" '+(null!=(r=d(t,"if").call(c,null!=n?d(n,"widgetID"):n,{name:"if",hash:{},fn:l.program(3,a,0,o,i),inverse:l.noop,data:a,loc:{start:{line:8,column:81},end:{line:8,column:134}}}))?r:"")+">\n"+(null!=(r=(d(t,"isFlipped")||n&&d(n,"isFlipped")||s).call(c,null!=n?d(n,"viewMoreFlipper"):n,{name:"isFlipped",hash:{},fn:l.program(5,a,0,o,i),inverse:l.program(11,a,0,o,i),data:a,loc:{start:{line:9,column:2},end:{line:30,column:16}}}))?r:"")+'\t</div>\n\t<div class="upgrade-pro-container">\n\t\t<p class="upgrade-to-pro-cta"><a href="'+m(typeof(u=null!=(u=d(t,"upgradeProLink")||(null!=n?d(n,"upgradeProLink"):n))?u:s)===p?u.call(c,{name:"upgradeProLink",hash:{},data:a,loc:{start:{line:33,column:41},end:{line:33,column:59}}}):u)+'">'+m((d(t,"intlMessage")||n&&d(n,"intlMessage")||s).call(c,{name:"intlMessage",hash:{intlName:"common.UPGRADE_PRO_HIDE_ADS"},data:a,loc:{start:{line:33,column:61},end:{line:33,column:115}}}))+"</a></p>\n\t</div>\n</div>\n"},3:function(l,n,t,e,a){var o,i=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'data-g-position="'+l.escapeExpression("function"==typeof(o=null!=(o=i(t,"widgetID")||(null!=n?i(n,"widgetID"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"widgetID",hash:{},data:a,loc:{start:{line:8,column:114},end:{line:8,column:126}}}):o)+'"'},5:function(l,n,t,e,a,o,i){var r,u=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return null!=(r=u(t,"each").call(null!=n?n:l.nullContext||{},null!=(r=null!=n?u(n,"layout"):n)?u(r,"boxes"):r,{name:"each",hash:{},fn:l.program(6,a,0,o,i),inverse:l.noop,data:a,loc:{start:{line:10,column:3},end:{line:24,column:12}}}))?r:""},6:function(l,n,t,e,a,o,i){var r,u=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return null!=(r=u(t,"if").call(null!=n?n:l.nullContext||{},a&&u(a,"last"),{name:"if",hash:{},fn:l.program(7,a,0,o,i),inverse:l.program(9,a,0,o,i),data:a,loc:{start:{line:11,column:4},end:{line:23,column:11}}}))?r:""},7:function(l,n,t,e,a,o,i){var r,u=null!=n?n:l.nullContext||{},c=l.hooks.helperMissing,s="function",p=l.escapeExpression,m=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'\t\t\t\t\t<div class="last-result-container" style="height:'+p(typeof(r=null!=(r=m(t,"height")||(null!=n?m(n,"height"):n))?r:c)===s?r.call(u,{name:"height",hash:{},data:a,loc:{start:{line:12,column:54},end:{line:12,column:64}}}):r)+"px; width:"+p(typeof(r=null!=(r=m(t,"width")||(null!=n?m(n,"width"):n))?r:c)===s?r.call(u,{name:"width",hash:{},data:a,loc:{start:{line:12,column:74},end:{line:12,column:83}}}):r)+"px; top: "+p(typeof(r=null!=(r=m(t,"top")||(null!=n?m(n,"top"):n))?r:c)===s?r.call(u,{name:"top",hash:{},data:a,loc:{start:{line:12,column:92},end:{line:12,column:99}}}):r)+"px; left: "+p(typeof(r=null!=(r=m(t,"left")||(null!=n?m(n,"left"):n))?r:c)===s?r.call(u,{name:"left",hash:{},data:a,loc:{start:{line:12,column:109},end:{line:12,column:117}}}):r)+'px;">\n\t\t\t\t\t\t<a href="'+p(typeof(r=null!=(r=m(t,"url")||(null!=n?m(n,"url"):n))?r:c)===s?r.call(u,{name:"url",hash:{},data:a,loc:{start:{line:13,column:15},end:{line:13,column:22}}}):r)+'" target="_blank" data-g-url="'+p(typeof(r=null!=(r=m(t,"gettyImageUrl")||(null!=n?m(n,"gettyImageUrl"):n))?r:c)===s?r.call(u,{name:"gettyImageUrl",hash:{},data:a,loc:{start:{line:13,column:52},end:{line:13,column:69}}}):r)+'" data-g-index="'+p(typeof(r=null!=(r=m(t,"index")||a&&m(a,"index"))?r:c)===s?r.call(u,{name:"index",hash:{},data:a,loc:{start:{line:13,column:85},end:{line:13,column:95}}}):r)+'" class="getty-result last-result" style="position: absolute; background-image: url(\''+p(typeof(r=null!=(r=m(t,"displayUri")||(null!=n?m(n,"displayUri"):n))?r:c)===s?r.call(u,{name:"displayUri",hash:{},data:a,loc:{start:{line:13,column:180},end:{line:13,column:194}}}):r)+'\');background-size: cover; background-position: center;" title="'+p(typeof(r=null!=(r=m(t,"caption")||(null!=n?m(n,"caption"):n))?r:c)===s?r.call(u,{name:"caption",hash:{},data:a,loc:{start:{line:13,column:258},end:{line:13,column:269}}}):r)+'">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class="view-more-overlay"></div>\n\t\t\t\t\t\t<a href="'+p(l.lambda(null!=i[1]?m(i[1],"viewMoreLink"):i[1],n))+'" target="_blank"  class="view-more-text">\n\t\t\t\t\t\t\t'+p((m(t,"intlMessage")||n&&m(n,"intlMessage")||c).call(u,{name:"intlMessage",hash:{intlName:"common.VIEW_MORE"},data:a,loc:{start:{line:17,column:7},end:{line:17,column:50}}}))+"\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n"},9:function(l,n,t,e,a){var o,i=null!=n?n:l.nullContext||{},r=l.hooks.helperMissing,u="function",c=l.escapeExpression,s=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'\t\t\t\t\t<a href="'+c(typeof(o=null!=(o=s(t,"url")||(null!=n?s(n,"url"):n))?o:r)===u?o.call(i,{name:"url",hash:{},data:a,loc:{start:{line:21,column:14},end:{line:21,column:21}}}):o)+'" target="_blank" data-g-url="'+c(typeof(o=null!=(o=s(t,"gettyImageUrl")||(null!=n?s(n,"gettyImageUrl"):n))?o:r)===u?o.call(i,{name:"gettyImageUrl",hash:{},data:a,loc:{start:{line:21,column:51},end:{line:21,column:68}}}):o)+'" data-g-index="'+c(typeof(o=null!=(o=s(t,"index")||a&&s(a,"index"))?o:r)===u?o.call(i,{name:"index",hash:{},data:a,loc:{start:{line:21,column:84},end:{line:21,column:94}}}):o)+'" class="getty-result" style="position: absolute; display:block; background-image: url(\''+c(typeof(o=null!=(o=s(t,"displayUri")||(null!=n?s(n,"displayUri"):n))?o:r)===u?o.call(i,{name:"displayUri",hash:{},data:a,loc:{start:{line:21,column:182},end:{line:21,column:196}}}):o)+"');background-size: cover; background-position: center; height:"+c(typeof(o=null!=(o=s(t,"height")||(null!=n?s(n,"height"):n))?o:r)===u?o.call(i,{name:"height",hash:{},data:a,loc:{start:{line:21,column:259},end:{line:21,column:269}}}):o)+"px; width:"+c(typeof(o=null!=(o=s(t,"width")||(null!=n?s(n,"width"):n))?o:r)===u?o.call(i,{name:"width",hash:{},data:a,loc:{start:{line:21,column:279},end:{line:21,column:288}}}):o)+"px; top: "+c(typeof(o=null!=(o=s(t,"top")||(null!=n?s(n,"top"):n))?o:r)===u?o.call(i,{name:"top",hash:{},data:a,loc:{start:{line:21,column:297},end:{line:21,column:304}}}):o)+"px; left: "+c(typeof(o=null!=(o=s(t,"left")||(null!=n?s(n,"left"):n))?o:r)===u?o.call(i,{name:"left",hash:{},data:a,loc:{start:{line:21,column:314},end:{line:21,column:322}}}):o)+'px;" title="'+c(typeof(o=null!=(o=s(t,"caption")||(null!=n?s(n,"caption"):n))?o:r)===u?o.call(i,{name:"caption",hash:{},data:a,loc:{start:{line:21,column:334},end:{line:21,column:345}}}):o)+'">\n\t\t\t\t\t</a>\n'},11:function(l,n,t,e,a){var o,i=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return null!=(o=i(t,"each").call(null!=n?n:l.nullContext||{},null!=(o=null!=n?i(n,"layout"):n)?i(o,"boxes"):o,{name:"each",hash:{},fn:l.program(12,a,0),inverse:l.noop,data:a,loc:{start:{line:26,column:3},end:{line:29,column:12}}}))?o:""},12:function(l,n,t,e,a){var o,i=null!=n?n:l.nullContext||{},r=l.hooks.helperMissing,u="function",c=l.escapeExpression,s=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'\t\t\t\t<a href="'+c(typeof(o=null!=(o=s(t,"url")||(null!=n?s(n,"url"):n))?o:r)===u?o.call(i,{name:"url",hash:{},data:a,loc:{start:{line:27,column:13},end:{line:27,column:20}}}):o)+'" target="_blank" data-g-url="'+c(typeof(o=null!=(o=s(t,"gettyImageUrl")||(null!=n?s(n,"gettyImageUrl"):n))?o:r)===u?o.call(i,{name:"gettyImageUrl",hash:{},data:a,loc:{start:{line:27,column:50},end:{line:27,column:67}}}):o)+'" data-g-index="'+c(typeof(o=null!=(o=s(t,"index")||a&&s(a,"index"))?o:r)===u?o.call(i,{name:"index",hash:{},data:a,loc:{start:{line:27,column:83},end:{line:27,column:93}}}):o)+'" class="getty-result" style="position: absolute; display:block; background-image: url(\''+c(typeof(o=null!=(o=s(t,"displayUri")||(null!=n?s(n,"displayUri"):n))?o:r)===u?o.call(i,{name:"displayUri",hash:{},data:a,loc:{start:{line:27,column:181},end:{line:27,column:195}}}):o)+"');background-size: cover; background-position: center; height:"+c(typeof(o=null!=(o=s(t,"height")||(null!=n?s(n,"height"):n))?o:r)===u?o.call(i,{name:"height",hash:{},data:a,loc:{start:{line:27,column:258},end:{line:27,column:268}}}):o)+"px; width:"+c(typeof(o=null!=(o=s(t,"width")||(null!=n?s(n,"width"):n))?o:r)===u?o.call(i,{name:"width",hash:{},data:a,loc:{start:{line:27,column:278},end:{line:27,column:287}}}):o)+"px; top: "+c(typeof(o=null!=(o=s(t,"top")||(null!=n?s(n,"top"):n))?o:r)===u?o.call(i,{name:"top",hash:{},data:a,loc:{start:{line:27,column:296},end:{line:27,column:303}}}):o)+"px; left: "+c(typeof(o=null!=(o=s(t,"left")||(null!=n?s(n,"left"):n))?o:r)===u?o.call(i,{name:"left",hash:{},data:a,loc:{start:{line:27,column:313},end:{line:27,column:321}}}):o)+'px;" title="'+c(typeof(o=null!=(o=s(t,"caption")||(null!=n?s(n,"caption"):n))?o:r)===u?o.call(i,{name:"caption",hash:{},data:a,loc:{start:{line:27,column:333},end:{line:27,column:344}}}):o)+'">\n\t\t\t\t</a>\n'},compiler:[8,">= 4.3.0"],main:function(l,n,t,e,a,o,i){var r,u,c,s=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return u=null!=(u=s(t,"nestAndChangeHtmlTags")||(null!=n?s(n,"nestAndChangeHtmlTags"):n))?u:l.hooks.helperMissing,c={name:"nestAndChangeHtmlTags",hash:{},fn:l.program(1,a,0,o,i),inverse:l.noop,data:a,loc:{start:{line:1,column:0},end:{line:37,column:26}}},r="function"==typeof u?u.call(null!=n?n:l.nullContext||{},c):u,s(t,"nestAndChangeHtmlTags")||(r=l.hooks.blockHelperMissing.call(n,r,c)),null!=r?r:""},useData:!0,useDepths:!0}),e={};l.Array.each([],(function(n){var t=l.Template.get("hermes/"+n);t&&(e[n]=t)})),l.Template.register("hermes/getty-widget",(function(n,a){return(a=a||{}).partials=a.partials?l.merge(e,a.partials):e,t(n,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("flickr-getty-search-fetcher",(function(e,r){"use strict";e.namespace("ModelFetchers")["flickr-getty-search"]={run:function(o,a){var t=this,s=this._processParams(o,a);return e.Promise.all([a.callAPI("flickr.getty.affiliate.search",s),a.getModelRegistry("getty-search-models")]).then((function(e){return t._processResponse(e,o,a)}),e.FetcherErrorLogger(r))},_processParams:function(e){var r={search_phrase:e.searchTerm,color:e.color,orientations:e.orientations,accept_language:e.language,gi_country_code:e.countryCode,page_size:e.pageSize};return e.photoId&&(r.photo_id=e.photoId),r},_processResponse:function(e,r){var o=e[0],a=e[1],t={images:o.images,searchTerm:r.searchTerm,color:r.color,orientations:r.orientations,language:r.language,countryCode:r.countryCode,photoId:r.photoId,searchPhrase:o.searchPhrase,pageSize:r.pageSize};return a.addOrUpdate(t),o}}}),"@VERSION@",{requires:["flickr-promise","api-helper"],optional:[]});YUI.add("getty-search-models",(function(e){function r(e){r.superclass.constructor.call(this,e)}e.Models[this.name]=r,e.extend(r,e.FlickrModelRegistry,{name:this.name,remote:{read:function(r){return e.ModelFetchers["flickr-getty-search"].run(r,this.appContext)}},attributes:{images:{},searchTerm:{},photoId:{},color:{},orientations:{},language:{},countryCode:{},searchPhrase:{},pageSize:{}}})}),"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-getty-search-fetcher"]});YUI.add("getty-widget-view",(function(e,t){var i=new e.SubscriptionsHelper,s=require("justified-layout"),r=require("hermes-core/flog")(t);e.namespace("Views")["getty-widget-view"]=e.Base.create("getty-widget-view",e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){this.justifiedLayout=s,this.params=t,this.widgetType=this.params.type,this.widgetInPhotoList=this.params.inList,this.searchTerm=this.getSearchTerm(),this.geo=this.params.geo,this.iStockLogoLocation=e.config.flickr.urls.assetRoot+"/images/getty/IStock_corporate_logo.svg",this.currentUrl=YUI.Env.isServer?this.appContext.request.url:e.url()+this.appContext.flapp.getPath(),this.countryCode=null,this.widgetIsInView=!1,this.widgetIsLoaded=!1,this.widgetLoadEventListener,this.bottom,this.apiFailed,this.randomClasses=YUI.Env.isServer?this.appContext.request.randomClasses:e.config.flickr.randomClasses,this.resizeThrottle=300,this.gettyWidgetId,this.gettyImages,this.types={searchPage:{searchTerm:this.searchTerm,layoutSpacing:4,layoutRowHeight:140,layoutRowHeightTolerance:0,layoutMaxAr:2,snowPlowLabel:"getty-search",rowCount:1,typeClass:"search-page",viewMoreFlipper:"enable-getty-view-more-search",utmOptions:{promo:{campaign:this.widgetInPhotoList?`srp_photos_${this.getPositionalTag()}`:"srp_photos_top",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/plans-and-pricing"},viewMore:{campaign:"srp_photos_viewmore",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/search/2/image",extraParams:`?mediatype=photography&phrase=${this.searchTerm}`},imageAsset:{campaign:this.widgetInPhotoList?`srp_photos_${this.getPositionalTag()}`:"srp_photos_top",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:""}}},photoPage:{searchTerm:"adventure",layoutSpacing:4,layoutRowHeight:120,layoutRowHeightTolerance:0,layoutMaxAr:2,snowPlowLabel:"getty-photopage",layoutContainerWidth:500,rowCount:2,typeClass:"photo-page",viewMoreFlipper:"enable-getty-view-more-photo",utmOptions:{promo:{campaign:"adp_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/plans-and-pricing"},viewMore:{campaign:"adp_photos_viewmore",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/search/2/image",extraParams:""},imageAsset:{campaign:"adp_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:""}}},trendTagsPage:{searchTerm:"nature",layoutSpacing:4,layoutRowHeight:200,layoutRowHeightTolerance:0,layoutMaxAr:1,snowPlowLabel:"getty-trend-tags-page",rowCount:1,typeClass:"default-widget-page",viewMoreFlipper:"enable-getty-view-more-search",utmOptions:{promo:{campaign:"Trending_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/plans-and-pricing"},viewMore:{campaign:"Trending_photos_viewmore",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/search/2/image",extraParams:`?mediatype=photography&phrase=${this.searchTerm}`},imageAsset:{campaign:"Trending_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:""}}},explorePage:{searchTerm:"nature",layoutSpacing:4,layoutRowHeight:200,layoutRowHeightTolerance:0,layoutMaxAr:1,snowPlowLabel:"getty-explore-page",rowCount:1,typeClass:"default-widget-page",viewMoreFlipper:"enable-getty-view-more-search",utmOptions:{promo:{campaign:"Explore_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/plans-and-pricing"},viewMore:{campaign:"Explore_photos_viewmore",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/search/2/image",extraParams:`?mediatype=photography&phrase=${this.searchTerm}`},imageAsset:{campaign:"Explore_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:""}}},tagsPage:{searchTerm:this.searchTerm,layoutSpacing:4,layoutRowHeight:200,layoutRowHeightTolerance:0,layoutMaxAr:1,snowPlowLabel:"getty-tags-page",rowCount:1,typeClass:"default-widget-page",viewMoreFlipper:"enable-getty-view-more-search",utmOptions:{promo:{campaign:"Tags_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/plans-and-pricing"},viewMore:{campaign:"Tags_photos_viewmore",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:"https://www.istockphoto.com/search/2/image",extraParams:`?mediatype=photography&phrase=${this.searchTerm}`},imageAsset:{campaign:"Tags_photos_sponsored",term:this.searchTerm,pageUrl:this.currentUrl,originalURL:""}}}},this.utmTrackingOptions=this.getUtmOptions(),this.params.geo&&this.params.geo.countryCode?this.countryCode=this.params.geo.countryCode:e.config.flickr.geo&&e.config.flickr.geo.countryCode&&(this.countryCode=e.config.flickr.geo.countryCode)},getSearchTerm:function(){return"searchPage"===this.widgetType?this.params.searchTerm:"photoPage"===this.widgetType?"adventure":"trendTagsPage"===this.widgetType||"explorePage"===this.widgetType?"nature":"tagsPage"===this.widgetType?this.params.tag:void 0},getUtmOptions:function(){return this.types[this.widgetType].utmOptions},getPhotoPageState:function(){if(YUI.Env.isServer||!this.widgetIsInView)return e.Promise.resolve();var t=this;return t.appContext.getModel("getty-search-models",{photoId:t.params.photoId,language:t.appContext.gettyHelper.getCorrectLangFormat(),countryCode:t.countryCode}).then((t=>(this.gettyModel=t,this.apiFailed=!1,this.updateSearchTerm(),e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.searchTerm,action:"gettyResultsLoad",label:this.types[this.widgetType].snowPlowLabel}),{registryName:"getty-search-models",modelId:t.id}))).catch((i=>{t.apiFailed=!0,e.Snowplough&&e.Snowplough.sendStructuredEvent({category:t.searchTerm,action:"gettyResultsFail",label:this.types[this.widgetType].snowPlowLabel}),r.error("Error with fetching getty-search-models",{err:i})}))},updateSearchTerm:function(){this.searchTerm=this.gettyModel.getValue("searchPhrase"),this.utmTrackingOptions.promo.term=this.searchTerm,this.utmTrackingOptions.imageAsset.term=this.searchTerm,this.utmTrackingOptions.viewMore.term=this.searchTerm,this.utmTrackingOptions.viewMore.extraParams=`?mediatype=photography&phrase=${this.searchTerm}`},getSearchState:function(){return this.appContext.getModel("getty-search-models",{searchTerm:this.searchTerm,color:this.appContext.gettyHelper.getSearchColorHex(this.params),orientations:this.appContext.gettyHelper.getSearchOrientation(this.params),language:this.appContext.gettyHelper.getCorrectLangFormat(),countryCode:this.countryCode,pageSize:50}).then((t=>(this.gettyModel=t,this.apiFailed=!1,e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.searchTerm,action:"gettyResultsLoad",label:this.types[this.widgetType].snowPlowLabel}),{registryName:"getty-search-models",modelId:t.id}))).catch((t=>{this.apiFailed=!0,e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.searchTerm,action:"gettyResultsFail",label:this.types[this.widgetType].snowPlowLabel}),r.error("Error with fetching getty-search-models",{err:t})}))},getDefaultWidgetState:function(){return this.appContext.getModel("getty-search-models",{searchTerm:this.searchTerm,language:this.appContext.gettyHelper.getCorrectLangFormat(),countryCode:this.countryCode}).then((t=>(this.gettyModel=t,this.apiFailed=!1,e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.params.searchTerm,action:"gettyResultsLoad",label:this.types[this.widgetType].snowPlowLabel}),{registryName:"getty-search-models",modelId:t.id}))).catch((t=>{this.apiFailed=!0,e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.params.searchTerm,action:"gettyResultsFail",label:this.types[this.widgetType].snowPlowLabel}),r.error("Error with fetching getty-search-models",{err:t})}))},loadState:function(){let e,t=this;return"searchPage"===this.widgetType?e=this.getSearchState:"photoPage"===this.widgetType?e=this.getPhotoPageState:["trendTagsPage","explorePage","tagsPage"].includes(this.widgetType)&&(e=this.getDefaultWidgetState),e.bind(t).apply().then((e=>{e&&(t.gettyWidgetId=t.appContext.gettyHelper.cacheWidget(e.registryName,e.modelId,t.gettyModel.getValue("images"),t.params),t.gettyImages=t.appContext.gettyHelper.getWidgetById(t.gettyWidgetId).widgetImages)}))},buildLayout:function(){var e,t,i=this,s=this.gettyImages,r=0,a=0,o=0,n=this.types[this.widgetType].rowCount;if(s){t=this.types[this.widgetType].layoutContainerWidth?this.types[this.widgetType].layoutContainerWidth:80*this.appContext.viewportData.getWidth()/100;var h=s.map((function(e){return Math.min(Number(parseFloat(e.maxDimensions.width/e.maxDimensions.height).toFixed(2)),i.types[i.widgetType].layoutMaxAr)}));return"searchPage"===this.widgetType&&this.appContext.flipper.isFlipped("enable-search-sidebar")&&this.appContext.viewportData.getWidth()>1080&&(t-=340),(e=this.getJustifiedLayout(h,t)).boxes.some((function(t,s){a<t.top&&(a=t.top,++r>=n&&(o=o||s,e.containerHeight=e.containerHeight-t.height-i.types[i.widgetType].layoutSpacing))})),o||(o=e.boxes.length),e.boxes=e.boxes.slice(0,o),e.boxes.forEach(((e,t)=>{var s=i.gettyImages[t],r=this.utmTrackingOptions.imageAsset;r.originalURL=s.referenceUri,e.displayUri=s.displayUri,e.url=this.appContext.gettyHelper.appendGettyTracking(r),e.gettyImageUrl=s.referenceUri,e.caption=s.caption})),e}},getJustifiedLayout:function(e,t){let i,s;return i=this.justifiedLayout(e,{containerWidth:t,containerPadding:0,forceAspectRatio:1,boxSpacing:{horizontal:this.types[this.widgetType].layoutSpacing,vertical:this.types[this.widgetType].layoutSpacing},targetRowHeight:this.types[this.widgetType].layoutRowHeight,targetRowHeightTolerance:this.types[this.widgetType].layoutRowHeightTolerance}),s=i.boxes.length*i.boxes[0].width,s<t&&t-s>this.types[this.widgetType].layoutSpacing?(this.appContext.gettyHelper.setImagesInWidget(this.gettyWidgetId,3),this.buildLayout()):i},buildContainer:function(){var e={apiFailed:this.apiFailed,iStockLogo:this.iStockLogoLocation,gettyPromoLink:this.appContext.gettyHelper.appendGettyTracking(this.utmTrackingOptions.promo),upgradeProLink:i.getProLandingPageUrl(i.UTM_HIDE_ADS_GETTY_SEARCH),typeClass:this.types[this.widgetType].typeClass,viewMoreFlipper:this.types[this.widgetType].viewMoreFlipper,randomClasses:this.randomClasses,widgetID:this.gettyWidgetId};return["searchPage","trendTagsPage","explorePage","tagsPage"].includes(this.widgetType)?(e.layout=this.apiFailed||YUI.Env.isServer?[]:this.buildLayout(),e.viewMoreLink=this.appContext.flipper.isFlipped("enable-getty-view-more-search")?this.appContext.gettyHelper.appendGettyTracking(this.utmTrackingOptions.viewMore):""):(e.layout=this.apiFailed||YUI.Env.isServer||!this.widgetIsInView?[]:this.buildLayout(),e.viewMoreLink=this.appContext.flipper.isFlipped("enable-getty-view-more-photo")?this.appContext.gettyHelper.appendGettyTracking(this.utmTrackingOptions.viewMore):""),this.setContainerWithTemplate("getty-widget",e),this},activate:function(){var t=this.get("container"),i=t,s=null;if(t&&"photoPage"===this.widgetType&&!this.widgetIsLoaded){for(;i&&!s;){var r=i.previous();r?s=r:i=i.get("parentNode")}s&&(this.bottom=s.getDOMNode().getBoundingClientRect().bottom),this.widgetLoadEventListener=this.registerEventHandler(e.globalEvents.subscribe("window:scroll",this.checkIfWidgetInViewport.bind(this)))}return this.buildContainer(),this.registerEventHandler(this.get("container").delegate("click",this.onGettyResultClick.bind(this),`.${this.randomClasses["getty-result"]}`)),this.registerEventHandler(this.get("container").delegate("click",this.onDiscountCodeClick.bind(this),`.${this.randomClasses["sponsor-discount-code"]}`)),this.registerEventHandler(this.get("container").delegate("click",this.onViewMoreTileClick.bind(this),`.${this.randomClasses["last-result-container"]}`)),this.registerEventHandler(e.on("resize",e.betterThrottle(this.onResize.bind(this),this.resizeThrottle,this,!0))),this.registerEventHandler(this.appContext.flapp.before("activeViewChange",this.handleViewChange.bind(this))),this},handleViewChange:function(){this.appContext.gettyHelper.clearCache()},getPositionalTag:function(){return this.params.layoutItem&&this.params.layoutItem.fullRowStatic&&"photo-list-getty-item-view"===this.params.layoutItem.name?this.params.layoutItem.siblingPosition:null},checkIfWidgetInViewport:function(){window.scrollY+window.innerHeight>=this.bottom+200&&(e.globalEvents.unsubscribe(this.widgetLoadEventListener),this.loadWidget())},loadWidget:function(){var e=this.get("container"),t=this;e&&(this.widgetIsInView=!0,this.widgetIsLoaded=!0,this.loadState().then((function(){t.buildContainer()})))},onResize:function(){this.buildContainer()},onGettyResultClick:function(t){let i=t.currentTarget;if(e.Snowplough&&i){let t=i.getAttribute("data-g-url"),s=parseInt(i.getAttribute("data-g-index"),10)+1;e.Snowplough.sendStructuredEvent({category:this.searchTerm,action:"gettyResultClick",label:this.types[this.widgetType].snowPlowLabel,property:t,value:s})}},onDiscountCodeClick:function(){e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.searchTerm,action:"gettyDiscountCodeClick",label:this.types[this.widgetType].snowPlowLabel})},onViewMoreTileClick:function(){e.Snowplough&&e.Snowplough.sendStructuredEvent({category:this.searchTerm,action:"gettyViewMoreTileClick",label:this.types[this.widgetType].snowPlowLabel})}})}),"@VERSION@",{requires:["flickr-view","hermes-template-getty-widget","getty-helper","getty-search-models"],optionalRequires:["hermes-core"],langBundles:["common"]});YUI.add("photo-list-getty-item-view",(function(e,t){e.namespace("Views")[this.name]=e.Base.create(this.name,e.PhotolistStaticItemView,[],{langBundles:this.details.langBundles,subviewConfig:{"getty-widget-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,type:"searchPage",inList:!0,disabled:function(){return!this.appContext.gettyHelper.canShowWidgetType("searchPage")}}},initializer:function(t){this.constructor.superclass.initializer.call(this,t),this.isMobile=t.isMobile,this.geo=t.geo||e.config.flickr.geo},activate:function(){return this.fire("activated"),this},updateNodeGeometry:function(e,t){this.constructor.superclass.updateNodeGeometry.call(this,e,t),YUI.Env.isServer||(this.triggerNewRender&&clearTimeout(this.triggerNewRender),this.triggerNewRender=setTimeout((()=>{this.setContainerHTML(this.render()),this.activate()}),500))},render:function(){return this.templates("photo-list-getty-item")({})}})}),"@VERSION@",{requires:["flickr-view","hermes-template-photo-list-getty-item","getty-widget-view"],optionalRequires:["fluid","storage-helper","hermes-core"],langBundles:[]});